.validate-checklist:
  image: alpine:latest
  before_script:
    - apk add --no-cache curl jq
  script:
    - echo "üîç –ü–æ–ª—É—á–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ MR..."
    - |
      if [ -z "$CI_MERGE_REQUEST_IID" ]; then
        echo "‚ö†Ô∏è CI_MERGE_REQUEST_IID –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –≠—Ç–æ –Ω–µ Merge Request pipeline. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º."
        exit 0
      fi

    - |
      MR_INFO=$(curl --silent --header "PRIVATE-TOKEN: $GITLAB_API_TOKEN" "$CI_API_V4_URL/projects/$CI_PROJECT_ID/merge_requests/$CI_MERGE_REQUEST_IID")
    - DESCRIPTION=$(echo "$MR_INFO" | jq -r '.description')
    - echo "‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã ([x])..."
    - |
      if echo "$DESCRIPTION" | grep -qE '\[ \]'; then
        echo "‚ùå –ù–∞–π–¥–µ–Ω—ã –Ω–µ–æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã:"
        echo "$DESCRIPTION" | grep -E '\[ \]'
        exit 1
      else
        echo "‚úÖ –í—Å–µ —á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã. –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º."
      fi